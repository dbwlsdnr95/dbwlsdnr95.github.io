<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="image" href="/profile_cute.png"/><link rel="stylesheet" href="/_next/static/css/fff7d7d50ba66cff.css" crossorigin="" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-c5f8510880a90daa.js" crossorigin=""/><script src="/_next/static/chunks/fd9d1056-c50cb70e7323352b.js" async="" crossorigin=""></script><script src="/_next/static/chunks/69-f8546037c2082669.js" async="" crossorigin=""></script><script src="/_next/static/chunks/main-app-baff347ce7e39457.js" async="" crossorigin=""></script><script src="/_next/static/chunks/250-069982e43c2ae463.js" async=""></script><script src="/_next/static/chunks/app/layout-10c7e025b6149e17.js" async=""></script><script src="/_next/static/chunks/app/page-e31ae51de7be232e.js" async=""></script><title>jinwk note</title><meta name="description" content="jinwk dev note"/><script>
              (function() {
                try {
                  const savedTheme = localStorage.getItem('theme');
                  // Default to 'dark' if no save found, ignoring system preference for now to start dark
                  const theme = savedTheme || 'dark';
                  document.documentElement.setAttribute('data-theme', theme);
                } catch (e) {}
              })();
            </script><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body><div class="app-container"><aside class="sidebar"><div class="profile-section"><div class="profile-img-wrapper"><img src="/profile_cute.png" alt="Profile" class="profile-img"/></div><div class="profile-name" style="display:flex;align-items:center;justify-content:center;gap:0.5rem">jinwook yu<a style="font-size:0.9rem;opacity:0.5;text-decoration:none" href="/admin">⚙️</a></div><div class="profile-subtitle" style="font-size:0.9rem;color:var(--text-muted);margin-bottom:1rem">dbwlsdnr95</div><div class="profile-bio" style="white-space:pre-line;font-size:0.85rem;text-align:left;width:100%">웹·모바일 진단 ,솔루션 운영 및 클라우드 보안을 경험했고, 현재는 모의해킹·취약점 분석·CVE 연구에 집중하고 있습니다. 실전 기반 보안 역량을 꾸준히 확장하고 있습니다.</div></div><nav class="nav-section"><div class="nav-title">분류 전체보기</div><ul class="nav-list" style="margin-bottom:2rem"><li class="nav-item"><a class="" href="/">전체보기</a></li></ul><div style="margin-bottom:2rem"><div class="nav-title">교육</div><ul class="nav-list"><li class="nav-item"><a class="" href="/category/Android">Android</a></li><li class="nav-item"><a class="" href="/category/JAVA">JAVA</a></li><li class="nav-item"><a class="" href="/category/AWS">AWS</a></li></ul></div></nav></aside><main class="main-content"><article class="article-container"><div class="article-header"><span class="article-category">Android</span><h1 class="article-title">Android 보안 11일차</h1></div><div class="article-content"><h1>Frida Labs 실습 정리 (FridaLab)</h1>
<h2>실습 환경</h2>
<ul>
<li>대상 앱: <strong>FridaLab (Ross Marks)</strong></li>
<li>분석 방식: <strong>Frida 기반 동적 분석</strong></li>
<li>핵심 기술
<ul>
<li>Java.use</li>
<li>Java.choose</li>
<li>메소드 후킹</li>
<li>필드 값 조작</li>
<li>UI 제어</li>
</ul>
</li>
</ul>
<hr>
<h2>Lab 01 — 필드 값 조작</h2>
<h3>목표</h3>
<ul>
<li><code>chall01</code> 조건을 만족시켜 완료 처리</li>
</ul>
<h3>핵심 포인트</h3>
<ul>
<li><code>chall01</code>은 <strong>static 필드</strong></li>
<li>메소드 호출 없이 <strong>값만 바꾸면 해결</strong></li>
</ul>
<h3>Frida 스크립트</h3>
<pre><code>Java.perform(() => {
    var chall01 = Java.use("uk.rossmarks.fridalab.challenge_01");
    chall01.chall01.value = 1;
});
</code></pre>
<hr>
<h2>Lab 02 — 인스턴스 메소드 호출</h2>
<h3>목표</h3>
<ul>
<li><code>chall02()</code> 메소드 직접 호출</li>
</ul>
<h3>핵심 포인트</h3>
<ul>
<li>static 아님 → <code>Java.use</code> 불가</li>
<li><strong>이미 생성된 MainActivity 인스턴스 필요</strong></li>
<li><code>Java.choose()</code> 사용</li>
</ul>
<h3>Frida 스크립트</h3>
<pre><code>Java.perform(() => {
    Java.choose("uk.rossmarks.fridalab.MainActivity", {
        onMatch: function (ins) {
            ins.chall02();
        },
        onComplete: function () {}
    });
});
</code></pre>
<hr>
<h2>Lab 03 — 리턴값 강제 변경</h2>
<h3>목표</h3>
<ul>
<li><code>chall03()</code> 결과를 무조건 성공 처리</li>
</ul>
<h3>핵심 포인트</h3>
<ul>
<li>메소드 후킹</li>
<li>리턴값을 <code>true</code>로 하드코딩</li>
</ul>
<h3>Frida 스크립트</h3>
<pre><code>Java.perform(() => {
    var MainActivity = Java.use("uk.rossmarks.fridalab.MainActivity");
    MainActivity.chall03.implementation = function () {
        return true;
    };
});
</code></pre>
<hr>
<h2>Lab 04 — Activity 생성 타이밍 제어</h2>
<h3>목표</h3>
<ul>
<li><code>chall04("frida")</code>를 정확한 시점에 호출</li>
</ul>
<h3>핵심 포인트</h3>
<ul>
<li>Activity 생성 직후 실행 필요</li>
<li><code>onCreate()</code> 후킹 + <code>Java.choose()</code></li>
</ul>
<h3>Frida 스크립트</h3>
<pre><code>Java.perform(() => {
    var MainActivity = Java.use("uk.rossmarks.fridalab.MainActivity");

    MainActivity.onCreate.implementation = function (bundle) {
        this.onCreate(bundle);

        Java.choose("uk.rossmarks.fridalab.MainActivity", {
            onMatch: function (ins) {
                ins.chall04("frida");
            },
            onComplete: function () {}
        });
    };
});
</code></pre>
<hr>
<h2>Lab 05 — 인자 값 강제 변경</h2>
<h3>목표</h3>
<ul>
<li><code>chall05(String str)</code> 조건 만족</li>
</ul>
<h3>핵심 포인트</h3>
<ul>
<li>함수 인자 값을 <strong>실행 중 조작</strong></li>
<li>항상 <code>"frida"</code> 전달</li>
</ul>
<h3>Frida 스크립트</h3>
<pre><code>Java.perform(() => {
    var MainActivity = Java.use("uk.rossmarks.fridalab.MainActivity");

    MainActivity.chall05.implementation = function (str) {
        return this.chall05("frida");
    };
});
</code></pre>
<hr>
<h2>Lab 06 — 누적 값 조건 우회</h2>
<h3>목표</h3>
<ul>
<li><code>chall06</code> 값이 특정 범위를 넘기지 않도록 제어</li>
</ul>
<h3>핵심 포인트</h3>
<ul>
<li>내부에서 랜덤 값이 계속 누적됨</li>
<li>조건 초과 시 값 리셋됨</li>
<li><strong>add 함수 후킹 or 값 직접 조작</strong>으로 해결 가능</li>
</ul>
<pre><code>0 + 43 = 43 + 49 = 92 +14 = 106 +52 = 158 ...... 13 9002 9015  X -> 13
    public static void addChall06(int i) {
        chall06 += i;
        if (chall06 > 9000) {
            chall06 = i;
        }
    }
1초마다 랜덤한 1~50숫자 뽑아서 addChall06(숫자) 계속 실행해~
        challenge_06.addChall06(new Random().nextInt(50) + 1);
        new Timer().scheduleAtFixedRate(new TimerTask() { // from class: uk.rossmarks.fridalab.MainActivity.2
            @Override // java.util.TimerTask, java.lang.Runnable
            public void run() {
                int iNextInt = new Random().nextInt(50) + 1;
                challenge_06.addChall06(iNextInt);

            }
        }, 0L, 1000L);
</code></pre>
<hr>
<h2>Lab 07 — 내부 비밀값 추출</h2>
<h3>목표</h3>
<ul>
<li>내부에 저장된 비밀번호 확인 후 전달</li>
</ul>
<h3>핵심 포인트</h3>
<ul>
<li>static 필드에 값 저장됨</li>
<li>값을 읽어서 그대로 메소드에 전달</li>
</ul>
<h3>Frida 스크립트</h3>
<pre><code>Java.perform(() => {
    var chall07 = Java.use("uk.rossmarks.fridalab.challenge_07");
    var password = chall07.chall07.value;

    Java.choose("uk.rossmarks.fridalab.MainActivity", {
        onMatch: function (ins) {
            ins.chall07(password);
        },
        onComplete: function () {}
    });
});
</code></pre>
<hr>
<h2>Lab 08 — UI 동적 조작</h2>
<h3>목표</h3>
<ul>
<li>버튼 텍스트를 <code>"Confirm"</code>으로 변경</li>
</ul>
<h3>핵심 포인트</h3>
<ul>
<li>UI 조작은 <strong>Main Thread 필수</strong></li>
<li><code>onResume()</code> 후킹</li>
<li><code>findViewById()</code> → Button → <code>setText()</code></li>
</ul>
<h3>Frida 스크립트</h3>
<pre><code>Java.perform(function () {
    const Activity = Java.use("android.app.Activity");
    const Button = Java.use("android.widget.Button");
    const StringCls = Java.use("java.lang.String");

    Activity.onResume.implementation = function () {
        this.onResume();

        Java.scheduleOnMainThread(() => {
            const res = this.getResources();
            const pkg = this.getPackageName();
            const id = res.getIdentifier("check", "id", pkg);

            if (id !== 0) {
                const btn = Java.cast(this.findViewById(id), Button);
                btn.setText(StringCls.$new("Confirm"));
            }
        });
    };
});
</code></pre>
<hr>
<h2>종합 정리</h2>
<h3>Frida Labs 핵심 포인트</h3>
<ul>
<li><strong>Java.use</strong>
<ul>
<li>클래스 설계도 수정</li>
<li>메소드 구현 변경</li>
</ul>
</li>
<li><strong>Java.choose</strong>
<ul>
<li>이미 생성된 인스턴스 제어</li>
</ul>
</li>
<li><strong>동적 분석의 장점</strong>
<ul>
<li>무결성 검사 우회</li>
<li>조건 분기 강제 통과</li>
<li>UI / 로직 실시간 조작 가능</li>
</ul>
</li>
<li><strong>실무 활용</strong>
<ul>
<li>CTF 문제 풀이</li>
<li>모바일 앱 취약점 검증</li>
<li>보안 솔루션 우회 분석</li>
</ul>
</li>
</ul>
</div></article></main></div><script src="/_next/static/chunks/webpack-c5f8510880a90daa.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/fff7d7d50ba66cff.css\",\"style\",{\"crossOrigin\":\"\"}]\n0:\"$L2\"\n"])</script><script>self.__next_f.push([1,"3:I[7690,[],\"\"]\n6:I[5613,[],\"\"]\n9:I[1778,[],\"\"]\na:I[8383,[\"250\",\"static/chunks/250-069982e43c2ae463.js\",\"185\",\"static/chunks/app/layout-10c7e025b6149e17.js\"],\"\"]\nb:I[5250,[\"250\",\"static/chunks/250-069982e43c2ae463.js\",\"931\",\"static/chunks/app/page-e31ae51de7be232e.js\"],\"\"]\nd:I[8955,[],\"\"]\n7:[\"category\",\"Android\",\"d\"]\n8:[\"slug\",\"day11\",\"d\"]\ne:[]\n"])</script><script>self.__next_f.push([1,"2:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/fff7d7d50ba66cff.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],[\"$\",\"$L3\",null,{\"buildId\":\"TRFLD1MljlsxO-bl3YPbV\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/post/Android/day11\",\"initialTree\":[\"\",{\"children\":[\"post\",{\"children\":[[\"category\",\"Android\",\"d\"],{\"children\":[[\"slug\",\"day11\",\"d\"],{\"children\":[\"__PAGE__?{\\\"category\\\":\\\"Android\\\",\\\"slug\\\":\\\"day11\\\"}\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"post\",{\"children\":[[\"category\",\"Android\",\"d\"],{\"children\":[[\"slug\",\"day11\",\"d\"],{\"children\":[\"__PAGE__\",{},[\"$L4\",\"$L5\",null]]},[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"post\",\"children\",\"$7\",\"children\",\"$8\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]]},[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"post\",\"children\",\"$7\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]]},[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"post\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]]},[null,[\"$\",\"html\",null,{\"lang\":\"ko\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"head\",null,{\"children\":[\"$\",\"script\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\\n              (function() {\\n                try {\\n                  const savedTheme = localStorage.getItem('theme');\\n                  // Default to 'dark' if no save found, ignoring system preference for now to start dark\\n                  const theme = savedTheme || 'dark';\\n                  document.documentElement.setAttribute('data-theme', theme);\\n                } catch (e) {}\\n              })();\\n            \"}}]}],[\"$\",\"body\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"app-container\",\"children\":[[\"$\",\"$La\",null,{\"categories\":[\"AWS\",\"Android\",\"JAVA\"]}],[\"$\",\"main\",null,{\"className\":\"main-content\",\"children\":[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$\",\"div\",null,{\"className\":\"flex flex-col items-center justify-center min-h-[60vh] text-center px-4\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-4xl font-bold mb-4\",\"children\":\"404 - Not Found\"}],[\"$\",\"p\",null,{\"className\":\"text-gray-500 mb-8\",\"children\":\"요청하신 페이지를 찾을 수 없습니다.\"}],[\"$\",\"$Lb\",null,{\"href\":\"/\",\"className\":\"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition\",\"children\":\"홈으로 돌아가기\"}]]}],\"notFoundStyles\":[],\"styles\":null}]}]]}]}]]}],null]],\"initialHead\":[false,\"$Lc\"],\"globalErrorComponent\":\"$d\",\"missingSlots\":\"$We\"}]]\n"])</script><script>self.__next_f.push([1,"f:T1a42,"])</script><script>self.__next_f.push([1,"\u003ch1\u003eFrida Labs 실습 정리 (FridaLab)\u003c/h1\u003e\n\u003ch2\u003e실습 환경\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e대상 앱: \u003cstrong\u003eFridaLab (Ross Marks)\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003e분석 방식: \u003cstrong\u003eFrida 기반 동적 분석\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003e핵심 기술\n\u003cul\u003e\n\u003cli\u003eJava.use\u003c/li\u003e\n\u003cli\u003eJava.choose\u003c/li\u003e\n\u003cli\u003e메소드 후킹\u003c/li\u003e\n\u003cli\u003e필드 값 조작\u003c/li\u003e\n\u003cli\u003eUI 제어\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2\u003eLab 01 — 필드 값 조작\u003c/h2\u003e\n\u003ch3\u003e목표\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003echall01\u003c/code\u003e 조건을 만족시켜 완료 처리\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003e핵심 포인트\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003echall01\u003c/code\u003e은 \u003cstrong\u003estatic 필드\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003e메소드 호출 없이 \u003cstrong\u003e값만 바꾸면 해결\u003c/strong\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eFrida 스크립트\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003eJava.perform(() =\u003e {\r\n    var chall01 = Java.use(\"uk.rossmarks.fridalab.challenge_01\");\r\n    chall01.chall01.value = 1;\r\n});\n\u003c/code\u003e\u003c/pre\u003e\n\u003chr\u003e\n\u003ch2\u003eLab 02 — 인스턴스 메소드 호출\u003c/h2\u003e\n\u003ch3\u003e목표\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003echall02()\u003c/code\u003e 메소드 직접 호출\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003e핵심 포인트\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003estatic 아님 → \u003ccode\u003eJava.use\u003c/code\u003e 불가\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e이미 생성된 MainActivity 인스턴스 필요\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eJava.choose()\u003c/code\u003e 사용\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eFrida 스크립트\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003eJava.perform(() =\u003e {\r\n    Java.choose(\"uk.rossmarks.fridalab.MainActivity\", {\r\n        onMatch: function (ins) {\r\n            ins.chall02();\r\n        },\r\n        onComplete: function () {}\r\n    });\r\n});\n\u003c/code\u003e\u003c/pre\u003e\n\u003chr\u003e\n\u003ch2\u003eLab 03 — 리턴값 강제 변경\u003c/h2\u003e\n\u003ch3\u003e목표\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003echall03()\u003c/code\u003e 결과를 무조건 성공 처리\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003e핵심 포인트\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e메소드 후킹\u003c/li\u003e\n\u003cli\u003e리턴값을 \u003ccode\u003etrue\u003c/code\u003e로 하드코딩\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eFrida 스크립트\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003eJava.perform(() =\u003e {\r\n    var MainActivity = Java.use(\"uk.rossmarks.fridalab.MainActivity\");\r\n    MainActivity.chall03.implementation = function () {\r\n        return true;\r\n    };\r\n});\n\u003c/code\u003e\u003c/pre\u003e\n\u003chr\u003e\n\u003ch2\u003eLab 04 — Activity 생성 타이밍 제어\u003c/h2\u003e\n\u003ch3\u003e목표\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003echall04(\"frida\")\u003c/code\u003e를 정확한 시점에 호출\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003e핵심 포인트\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eActivity 생성 직후 실행 필요\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eonCreate()\u003c/code\u003e 후킹 + \u003ccode\u003eJava.choose()\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eFrida 스크립트\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003eJava.perform(() =\u003e {\r\n    var MainActivity = Java.use(\"uk.rossmarks.fridalab.MainActivity\");\r\n\r\n    MainActivity.onCreate.implementation = function (bundle) {\r\n        this.onCreate(bundle);\r\n\r\n        Java.choose(\"uk.rossmarks.fridalab.MainActivity\", {\r\n            onMatch: function (ins) {\r\n                ins.chall04(\"frida\");\r\n            },\r\n            onComplete: function () {}\r\n        });\r\n    };\r\n});\n\u003c/code\u003e\u003c/pre\u003e\n\u003chr\u003e\n\u003ch2\u003eLab 05 — 인자 값 강제 변경\u003c/h2\u003e\n\u003ch3\u003e목표\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003echall05(String str)\u003c/code\u003e 조건 만족\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003e핵심 포인트\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e함수 인자 값을 \u003cstrong\u003e실행 중 조작\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003e항상 \u003ccode\u003e\"frida\"\u003c/code\u003e 전달\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eFrida 스크립트\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003eJava.perform(() =\u003e {\r\n    var MainActivity = Java.use(\"uk.rossmarks.fridalab.MainActivity\");\r\n\r\n    MainActivity.chall05.implementation = function (str) {\r\n        return this.chall05(\"frida\");\r\n    };\r\n});\n\u003c/code\u003e\u003c/pre\u003e\n\u003chr\u003e\n\u003ch2\u003eLab 06 — 누적 값 조건 우회\u003c/h2\u003e\n\u003ch3\u003e목표\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003echall06\u003c/code\u003e 값이 특정 범위를 넘기지 않도록 제어\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003e핵심 포인트\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e내부에서 랜덤 값이 계속 누적됨\u003c/li\u003e\n\u003cli\u003e조건 초과 시 값 리셋됨\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eadd 함수 후킹 or 값 직접 조작\u003c/strong\u003e으로 해결 가능\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e0 + 43 = 43 + 49 = 92 +14 = 106 +52 = 158 ...... 13 9002 9015  X -\u003e 13\r\n    public static void addChall06(int i) {\r\n        chall06 += i;\r\n        if (chall06 \u003e 9000) {\r\n            chall06 = i;\r\n        }\r\n    }\r\n1초마다 랜덤한 1~50숫자 뽑아서 addChall06(숫자) 계속 실행해~\r\n        challenge_06.addChall06(new Random().nextInt(50) + 1);\r\n        new Timer().scheduleAtFixedRate(new TimerTask() { // from class: uk.rossmarks.fridalab.MainActivity.2\r\n            @Override // java.util.TimerTask, java.lang.Runnable\r\n            public void run() {\r\n                int iNextInt = new Random().nextInt(50) + 1;\r\n                challenge_06.addChall06(iNextInt);\r\n\r\n            }\r\n        }, 0L, 1000L);\n\u003c/code\u003e\u003c/pre\u003e\n\u003chr\u003e\n\u003ch2\u003eLab 07 — 내부 비밀값 추출\u003c/h2\u003e\n\u003ch3\u003e목표\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e내부에 저장된 비밀번호 확인 후 전달\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003e핵심 포인트\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003estatic 필드에 값 저장됨\u003c/li\u003e\n\u003cli\u003e값을 읽어서 그대로 메소드에 전달\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eFrida 스크립트\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003eJava.perform(() =\u003e {\r\n    var chall07 = Java.use(\"uk.rossmarks.fridalab.challenge_07\");\r\n    var password = chall07.chall07.value;\r\n\r\n    Java.choose(\"uk.rossmarks.fridalab.MainActivity\", {\r\n        onMatch: function (ins) {\r\n            ins.chall07(password);\r\n        },\r\n        onComplete: function () {}\r\n    });\r\n});\n\u003c/code\u003e\u003c/pre\u003e\n\u003chr\u003e\n\u003ch2\u003eLab 08 — UI 동적 조작\u003c/h2\u003e\n\u003ch3\u003e목표\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e버튼 텍스트를 \u003ccode\u003e\"Confirm\"\u003c/code\u003e으로 변경\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003e핵심 포인트\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eUI 조작은 \u003cstrong\u003eMain Thread 필수\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eonResume()\u003c/code\u003e 후킹\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003efindViewById()\u003c/code\u003e → Button → \u003ccode\u003esetText()\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eFrida 스크립트\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003eJava.perform(function () {\r\n    const Activity = Java.use(\"android.app.Activity\");\r\n    const Button = Java.use(\"android.widget.Button\");\r\n    const StringCls = Java.use(\"java.lang.String\");\r\n\r\n    Activity.onResume.implementation = function () {\r\n        this.onResume();\r\n\r\n        Java.scheduleOnMainThread(() =\u003e {\r\n            const res = this.getResources();\r\n            const pkg = this.getPackageName();\r\n            const id = res.getIdentifier(\"check\", \"id\", pkg);\r\n\r\n            if (id !== 0) {\r\n                const btn = Java.cast(this.findViewById(id), Button);\r\n                btn.setText(StringCls.$new(\"Confirm\"));\r\n            }\r\n        });\r\n    };\r\n});\n\u003c/code\u003e\u003c/pre\u003e\n\u003chr\u003e\n\u003ch2\u003e종합 정리\u003c/h2\u003e\n\u003ch3\u003eFrida Labs 핵심 포인트\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eJava.use\u003c/strong\u003e\n\u003cul\u003e\n\u003cli\u003e클래스 설계도 수정\u003c/li\u003e\n\u003cli\u003e메소드 구현 변경\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eJava.choose\u003c/strong\u003e\n\u003cul\u003e\n\u003cli\u003e이미 생성된 인스턴스 제어\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e동적 분석의 장점\u003c/strong\u003e\n\u003cul\u003e\n\u003cli\u003e무결성 검사 우회\u003c/li\u003e\n\u003cli\u003e조건 분기 강제 통과\u003c/li\u003e\n\u003cli\u003eUI / 로직 실시간 조작 가능\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e실무 활용\u003c/strong\u003e\n\u003cul\u003e\n\u003cli\u003eCTF 문제 풀이\u003c/li\u003e\n\u003cli\u003e모바일 앱 취약점 검증\u003c/li\u003e\n\u003cli\u003e보안 솔루션 우회 분석\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n"])</script><script>self.__next_f.push([1,"5:[\"$\",\"article\",null,{\"className\":\"article-container\",\"children\":[[\"$\",\"div\",null,{\"className\":\"article-header\",\"children\":[[\"$\",\"span\",null,{\"className\":\"article-category\",\"children\":\"Android\"}],[\"$\",\"h1\",null,{\"className\":\"article-title\",\"children\":\"Android 보안 11일차\"}]]}],[\"$\",\"div\",null,{\"className\":\"article-content\",\"dangerouslySetInnerHTML\":{\"__html\":\"$f\"}}]]}]\nc:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"titl"])</script><script>self.__next_f.push([1,"e\",\"2\",{\"children\":\"jinwk note\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"jinwk dev note\"}]]\n4:null\n"])</script><script>self.__next_f.push([1,""])</script></body></html>