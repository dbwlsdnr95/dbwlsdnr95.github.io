<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="image" href="/profile_cute.png"/><link rel="stylesheet" href="/_next/static/css/fff7d7d50ba66cff.css" crossorigin="" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-c5f8510880a90daa.js" crossorigin=""/><script src="/_next/static/chunks/fd9d1056-c50cb70e7323352b.js" async="" crossorigin=""></script><script src="/_next/static/chunks/69-f8546037c2082669.js" async="" crossorigin=""></script><script src="/_next/static/chunks/main-app-baff347ce7e39457.js" async="" crossorigin=""></script><script src="/_next/static/chunks/250-069982e43c2ae463.js" async=""></script><script src="/_next/static/chunks/app/layout-10c7e025b6149e17.js" async=""></script><script src="/_next/static/chunks/app/page-e31ae51de7be232e.js" async=""></script><title>jinwk note</title><meta name="description" content="jinwk dev note"/><script>
              (function() {
                try {
                  const savedTheme = localStorage.getItem('theme');
                  // Default to 'dark' if no save found, ignoring system preference for now to start dark
                  const theme = savedTheme || 'dark';
                  document.documentElement.setAttribute('data-theme', theme);
                } catch (e) {}
              })();
            </script><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body><div class="app-container"><aside class="sidebar"><div class="profile-section"><div class="profile-img-wrapper"><img src="/profile_cute.png" alt="Profile" class="profile-img"/></div><div class="profile-name" style="display:flex;align-items:center;justify-content:center;gap:0.5rem">jinwook yu<a style="font-size:0.9rem;opacity:0.5;text-decoration:none" href="/admin">⚙️</a></div><div class="profile-subtitle" style="font-size:0.9rem;color:var(--text-muted);margin-bottom:1rem">dbwlsdnr95</div><div class="profile-bio" style="white-space:pre-line;font-size:0.85rem;text-align:left;width:100%">웹·모바일 진단 ,솔루션 운영 및 클라우드 보안을 경험했고, 현재는 모의해킹·취약점 분석·CVE 연구에 집중하고 있습니다. 실전 기반 보안 역량을 꾸준히 확장하고 있습니다.</div></div><nav class="nav-section"><div class="nav-title">분류 전체보기</div><ul class="nav-list" style="margin-bottom:2rem"><li class="nav-item"><a class="" href="/">전체보기</a></li></ul><div style="margin-bottom:2rem"><div class="nav-title">교육</div><ul class="nav-list"><li class="nav-item"><a class="" href="/category/Android">Android</a></li><li class="nav-item"><a class="" href="/category/JAVA">JAVA</a></li><li class="nav-item"><a class="" href="/category/AWS">AWS</a></li></ul></div></nav></aside><main class="main-content"><article class="article-container"><div class="article-header"><span class="article-category">Android</span><h1 class="article-title">Android 보안 6일차</h1></div><div class="article-content"><h2>1. 모바일 API &#x26; Web 통신 구조</h2>
<h3>1.1 HTTP API 통신 예시</h3>
<pre><code>GET /api/v2/ HTTP/1.1
{
  "cmd": "list",
  "data": "board",
  "keyword": "검색어"
}
</code></pre>
<ul>
<li>모바일 앱 ↔ 서버 간 API 통신</li>
<li>PC ↔ 모바일 개발자 도구를 통해 트래픽 분석 가능</li>
<li>Burp Suite, mitmproxy 등으로 <strong>MITM 분석</strong></li>
</ul>
<hr>
<h3>1.2 서버 쿼리 구조 예시</h3>
<pre><code>SELECT 컬럼들
FROM data입력값
WHERE title LIKE '%검색어%';
</code></pre>
<ul>
<li>입력값이 서버 쿼리에 직접 사용될 경우 <strong>SQL Injection 위험</strong></li>
</ul>
<hr>
<h2>2. TCP 통신 기반 취약점</h2>
<h3>2.1 TCP 입력값 조작</h3>
<pre><code>[ 3' AND 1=1 ] 검색
</code></pre>
<ul>
<li>HTTP가 아닌 <strong>Raw TCP 통신</strong>에서도 입력값 검증 미흡 시 취약</li>
<li>Binary / Hex 기반 데이터 (<code>2F8BC24</code>) 분석 필요</li>
</ul>
<hr>
<h2>3. Android 앱 내부 구조 공격 포인트</h2>
<h3>3.1 Activity / Memory 변조</h3>
<ul>
<li><strong>Activity 변조</strong>
<ul>
<li>숫자만 입력되도록 제한된 View → 강제 변조</li>
</ul>
</li>
<li><strong>Memory 변조</strong>
<ul>
<li>중요 데이터가 메모리에 상주하는 위치 분석</li>
</ul>
</li>
</ul>
<pre><code>String a = "test"; // 메모리에 장시간 남음 (위험)
char[] a = {0x00, 0x00, 0x00}; // 사용 후 초기화 가능 (권장)
</code></pre>
<ul>
<li>Java / Kotlin: <code>String</code> → GC 전까지 메모리 잔존</li>
<li>C 계열: <code>char[]</code> → 직접 초기화 가능</li>
</ul>
<hr>
<h3>3.2 메모리 덤프 관련</h3>
<pre><code>dumpsys heap 패키지명
frida-dump
</code></pre>
<ul>
<li>인증 토큰, ID/PW, 개인정보 노출 가능성 점검</li>
</ul>
<hr>
<h2>4. 인증 &#x26; 자동 로그인 구조</h2>
<h3>4.1 로그인 흐름</h3>
<pre><code>ID / PW → 로그인 성공 → 인증 토큰 발급
</code></pre>
<ul>
<li>인증 토큰이 <strong>SharedPreferences</strong>에 저장되는 경우 위험</li>
</ul>
<pre><code>/data/data/패키지명/shared_prefs/*.xml
</code></pre>
<hr>
<h3>4.2 SharedPreferences 저장 위치</h3>
<pre><code>/data/data/패키지명/
 ├─ shared_prefs/
 ├─ databases/
 ├─ files/
</code></pre>
<ul>
<li>Root 환경에서 평문 저장 시 <strong>심각한 취약점</strong></li>
</ul>
<hr>
<h2>5. 보안 솔루션 &#x26; 난독화</h2>
<h3>5.1 난독화 기법</h3>
<pre><code>a.e.f()
iiillll11l()
iilllll1()
</code></pre>
<ul>
<li>의미 없는 함수/변수명</li>
<li><strong>DexGuard / ProGuard</strong> 사용</li>
</ul>
<hr>
<h3>5.2 가상 키패드 / 백신</h3>
<ul>
<li>키로깅 방지 목적</li>
<li>메모리 직접 접근 시 우회 가능성 존재</li>
</ul>
<hr>
<h2>6. 리다이렉트 취약점</h2>
<h3>6.1 취약한 URL 예시</h3>
<pre><code>test.com/login?id=&#x26;pw=&#x26;url=test.com/member/
</code></pre>
<ul>
<li>외부 URL 허용 시 <strong>Open Redirect 취약점</strong></li>
<li>피싱, 인증 우회로 악용 가능</li>
</ul>
<hr>
<h2>7. APK &#x26; 리버스 엔지니어링 기초</h2>
<h3>7.1 APK 구조</h3>
<pre><code>abank.apk
 ├─ AndroidManifest.xml
 ├─ classes.dex
 ├─ lib/
 ├─ assets/
 ├─ resources/
</code></pre>
<ul>
<li>APK = 압축 파일</li>
<li><strong>디컴파일 필요</strong></li>
</ul>
<hr>
<h3>7.2 디컴파일 도구</h3>
<p>| 도구            | 설명             |
| --------------- | ---------------- |
| apktool         | 리소스 분석      |
| jadx / jadx-gui | Java 소스 복원   |
| APK Studio      | GUI 기반         |
| APK Easy Tool   | Windows Portable |</p>
<hr>
<h3>7.3 코드 변환 흐름</h3>
<pre><code>Java / Kotlin → class → smali → classes.dex
C / C++ → .so → JNI → Java
</code></pre>
<hr>
<h2>8. Android Component 구조</h2>
<p>| Component          | 설명        |
| ------------------ | ----------- |
| Activity           | 화면        |
| Service            | 백그라운드  |
| Content Provider   | 데이터 공유 |
| Broadcast Receiver | 이벤트 처리 |</p>
<hr>
<h2>9. Content Provider 취약점</h2>
<h3>9.1 코드 예시</h3>
<pre><code>Cursor cursor = getContentResolver().query(
  Uri.parse("content://kr.co.eqst.app022.memos"),
  new String[]{"memo"},
  "owner=?",
  new String[]{"user"},
  null
);
</code></pre>
<hr>
<h3>9.2 SQL Injection 가능 구조</h3>
<pre><code>SELECT memo
FROM memos
WHERE owner != 'admin'
AND ( 1=1 ) OR ( 공격쿼리 )
content query \
 --uri content://kr.co.eqst.app022.memos \
 --projection memo \
 --where "1=1) OR (owner='admin')"
</code></pre>
<hr>
<h2>10. Intent 취약점</h2>
<h3>10.1 Intent 구조</h3>
<pre><code>Intent intent = new Intent();
intent.putExtra("role", "99");
</code></pre>
<ul>
<li>권한 검증 없이 Extra 사용 시 <strong>권한 상승</strong></li>
</ul>
<hr>
<h3>10.2 Activity 강제 실행</h3>
<pre><code>am start 패키지명/.Activity명 --es role admin
dumpsys activity activities | grep Resumed
</code></pre>
<hr>
<h2>11. 시스템 명령어 정리</h2>
<h3>11.1 adb / am / content</h3>
<pre><code>am start 패키지명/.Activity명
am startservice 패키지명/.Service명
am broadcast -a ACTION -n 패키지명/.Receiver
</code></pre>
<hr>
<h3>11.2 SQLite 접근</h3>
<pre><code>cd /data/data/패키지명/databases
sqlite3 db파일명
SELECT * FROM table;
INSERT INTO table VALUES (...);
</code></pre>
<hr>
<h2>12. 무결성 검증 &#x26; 리소스 분석</h2>
<ul>
<li><code>classes.dex</code> 해시값 비교</li>
<li>루팅 탐지 / 변조 탐지 여부 확인</li>
<li><code>value-ko.xml</code> 등 문자열 암호화 여부</li>
</ul>
<pre><code>&#x3C;string name="error_msg">elfkjqwelfkj&#x3C;/string>
showMessage("오류", decrypt(error_msg));
</code></pre>
<hr>
<h2>13. 취약점 실습 앱</h2>
<p>| 앱             | 설명                  |
| -------------- | --------------------- |
| AndroGoat      | 공식 취약점 실습      |
| InsecureBankV2 | 은행 앱 취약점        |
| DIVA           | 구버전 Android 취약점 |</p>
<hr>
<h2>14. 기타</h2>
<ul>
<li>Termux → Android 내부 Linux 환경</li>
<li>Unity 앱 → C# / DLL → dnSpy / ILSpy 분석</li>
<li>log4j 취약점 → <code>cmd.jsp?cmd=ls -al</code></li>
</ul>
<hr>
<h3>정리 포인트</h3>
<ul>
<li><strong>입력값 → 서버/로컬 쿼리 흐름 추적</strong></li>
<li><strong>메모리·스토리지·컴포넌트 접근 제어</strong></li>
<li><strong>Intent / Content Provider 검증</strong></li>
<li><strong>난독화·무결성 검증 유무 확인</strong></li>
</ul>
</div></article></main></div><script src="/_next/static/chunks/webpack-c5f8510880a90daa.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/fff7d7d50ba66cff.css\",\"style\",{\"crossOrigin\":\"\"}]\n0:\"$L2\"\n"])</script><script>self.__next_f.push([1,"3:I[7690,[],\"\"]\n6:I[5613,[],\"\"]\n9:I[1778,[],\"\"]\na:I[8383,[\"250\",\"static/chunks/250-069982e43c2ae463.js\",\"185\",\"static/chunks/app/layout-10c7e025b6149e17.js\"],\"\"]\nb:I[5250,[\"250\",\"static/chunks/250-069982e43c2ae463.js\",\"931\",\"static/chunks/app/page-e31ae51de7be232e.js\"],\"\"]\nd:I[8955,[],\"\"]\n7:[\"category\",\"Android\",\"d\"]\n8:[\"slug\",\"day6\",\"d\"]\ne:[]\n"])</script><script>self.__next_f.push([1,"2:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/fff7d7d50ba66cff.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],[\"$\",\"$L3\",null,{\"buildId\":\"TRFLD1MljlsxO-bl3YPbV\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/post/Android/day6\",\"initialTree\":[\"\",{\"children\":[\"post\",{\"children\":[[\"category\",\"Android\",\"d\"],{\"children\":[[\"slug\",\"day6\",\"d\"],{\"children\":[\"__PAGE__?{\\\"category\\\":\\\"Android\\\",\\\"slug\\\":\\\"day6\\\"}\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"post\",{\"children\":[[\"category\",\"Android\",\"d\"],{\"children\":[[\"slug\",\"day6\",\"d\"],{\"children\":[\"__PAGE__\",{},[\"$L4\",\"$L5\",null]]},[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"post\",\"children\",\"$7\",\"children\",\"$8\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]]},[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"post\",\"children\",\"$7\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]]},[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"post\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]]},[null,[\"$\",\"html\",null,{\"lang\":\"ko\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"head\",null,{\"children\":[\"$\",\"script\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\\n              (function() {\\n                try {\\n                  const savedTheme = localStorage.getItem('theme');\\n                  // Default to 'dark' if no save found, ignoring system preference for now to start dark\\n                  const theme = savedTheme || 'dark';\\n                  document.documentElement.setAttribute('data-theme', theme);\\n                } catch (e) {}\\n              })();\\n            \"}}]}],[\"$\",\"body\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"app-container\",\"children\":[[\"$\",\"$La\",null,{\"categories\":[\"AWS\",\"Android\",\"JAVA\"]}],[\"$\",\"main\",null,{\"className\":\"main-content\",\"children\":[\"$\",\"$L6\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$\",\"div\",null,{\"className\":\"flex flex-col items-center justify-center min-h-[60vh] text-center px-4\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-4xl font-bold mb-4\",\"children\":\"404 - Not Found\"}],[\"$\",\"p\",null,{\"className\":\"text-gray-500 mb-8\",\"children\":\"요청하신 페이지를 찾을 수 없습니다.\"}],[\"$\",\"$Lb\",null,{\"href\":\"/\",\"className\":\"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition\",\"children\":\"홈으로 돌아가기\"}]]}],\"notFoundStyles\":[],\"styles\":null}]}]]}]}]]}],null]],\"initialHead\":[false,\"$Lc\"],\"globalErrorComponent\":\"$d\",\"missingSlots\":\"$We\"}]]\n"])</script><script>self.__next_f.push([1,"f:T1a03,"])</script><script>self.__next_f.push([1,"\u003ch2\u003e1. 모바일 API \u0026#x26; Web 통신 구조\u003c/h2\u003e\n\u003ch3\u003e1.1 HTTP API 통신 예시\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003eGET /api/v2/ HTTP/1.1\r\n{\r\n  \"cmd\": \"list\",\r\n  \"data\": \"board\",\r\n  \"keyword\": \"검색어\"\r\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003e모바일 앱 ↔ 서버 간 API 통신\u003c/li\u003e\n\u003cli\u003ePC ↔ 모바일 개발자 도구를 통해 트래픽 분석 가능\u003c/li\u003e\n\u003cli\u003eBurp Suite, mitmproxy 등으로 \u003cstrong\u003eMITM 분석\u003c/strong\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch3\u003e1.2 서버 쿼리 구조 예시\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003eSELECT 컬럼들\r\nFROM data입력값\r\nWHERE title LIKE '%검색어%';\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003e입력값이 서버 쿼리에 직접 사용될 경우 \u003cstrong\u003eSQL Injection 위험\u003c/strong\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2\u003e2. TCP 통신 기반 취약점\u003c/h2\u003e\n\u003ch3\u003e2.1 TCP 입력값 조작\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003e[ 3' AND 1=1 ] 검색\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003eHTTP가 아닌 \u003cstrong\u003eRaw TCP 통신\u003c/strong\u003e에서도 입력값 검증 미흡 시 취약\u003c/li\u003e\n\u003cli\u003eBinary / Hex 기반 데이터 (\u003ccode\u003e2F8BC24\u003c/code\u003e) 분석 필요\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2\u003e3. Android 앱 내부 구조 공격 포인트\u003c/h2\u003e\n\u003ch3\u003e3.1 Activity / Memory 변조\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eActivity 변조\u003c/strong\u003e\n\u003cul\u003e\n\u003cli\u003e숫자만 입력되도록 제한된 View → 강제 변조\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eMemory 변조\u003c/strong\u003e\n\u003cul\u003e\n\u003cli\u003e중요 데이터가 메모리에 상주하는 위치 분석\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003eString a = \"test\"; // 메모리에 장시간 남음 (위험)\r\nchar[] a = {0x00, 0x00, 0x00}; // 사용 후 초기화 가능 (권장)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003eJava / Kotlin: \u003ccode\u003eString\u003c/code\u003e → GC 전까지 메모리 잔존\u003c/li\u003e\n\u003cli\u003eC 계열: \u003ccode\u003echar[]\u003c/code\u003e → 직접 초기화 가능\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch3\u003e3.2 메모리 덤프 관련\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003edumpsys heap 패키지명\r\nfrida-dump\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003e인증 토큰, ID/PW, 개인정보 노출 가능성 점검\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2\u003e4. 인증 \u0026#x26; 자동 로그인 구조\u003c/h2\u003e\n\u003ch3\u003e4.1 로그인 흐름\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003eID / PW → 로그인 성공 → 인증 토큰 발급\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003e인증 토큰이 \u003cstrong\u003eSharedPreferences\u003c/strong\u003e에 저장되는 경우 위험\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e/data/data/패키지명/shared_prefs/*.xml\n\u003c/code\u003e\u003c/pre\u003e\n\u003chr\u003e\n\u003ch3\u003e4.2 SharedPreferences 저장 위치\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003e/data/data/패키지명/\r\n ├─ shared_prefs/\r\n ├─ databases/\r\n ├─ files/\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003eRoot 환경에서 평문 저장 시 \u003cstrong\u003e심각한 취약점\u003c/strong\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2\u003e5. 보안 솔루션 \u0026#x26; 난독화\u003c/h2\u003e\n\u003ch3\u003e5.1 난독화 기법\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003ea.e.f()\r\niiillll11l()\r\niilllll1()\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003e의미 없는 함수/변수명\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eDexGuard / ProGuard\u003c/strong\u003e 사용\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch3\u003e5.2 가상 키패드 / 백신\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e키로깅 방지 목적\u003c/li\u003e\n\u003cli\u003e메모리 직접 접근 시 우회 가능성 존재\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2\u003e6. 리다이렉트 취약점\u003c/h2\u003e\n\u003ch3\u003e6.1 취약한 URL 예시\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003etest.com/login?id=\u0026#x26;pw=\u0026#x26;url=test.com/member/\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003e외부 URL 허용 시 \u003cstrong\u003eOpen Redirect 취약점\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003e피싱, 인증 우회로 악용 가능\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2\u003e7. APK \u0026#x26; 리버스 엔지니어링 기초\u003c/h2\u003e\n\u003ch3\u003e7.1 APK 구조\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003eabank.apk\r\n ├─ AndroidManifest.xml\r\n ├─ classes.dex\r\n ├─ lib/\r\n ├─ assets/\r\n ├─ resources/\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003eAPK = 압축 파일\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e디컴파일 필요\u003c/strong\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch3\u003e7.2 디컴파일 도구\u003c/h3\u003e\n\u003cp\u003e| 도구            | 설명             |\r\n| --------------- | ---------------- |\r\n| apktool         | 리소스 분석      |\r\n| jadx / jadx-gui | Java 소스 복원   |\r\n| APK Studio      | GUI 기반         |\r\n| APK Easy Tool   | Windows Portable |\u003c/p\u003e\n\u003chr\u003e\n\u003ch3\u003e7.3 코드 변환 흐름\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003eJava / Kotlin → class → smali → classes.dex\r\nC / C++ → .so → JNI → Java\n\u003c/code\u003e\u003c/pre\u003e\n\u003chr\u003e\n\u003ch2\u003e8. Android Component 구조\u003c/h2\u003e\n\u003cp\u003e| Component          | 설명        |\r\n| ------------------ | ----------- |\r\n| Activity           | 화면        |\r\n| Service            | 백그라운드  |\r\n| Content Provider   | 데이터 공유 |\r\n| Broadcast Receiver | 이벤트 처리 |\u003c/p\u003e\n\u003chr\u003e\n\u003ch2\u003e9. Content Provider 취약점\u003c/h2\u003e\n\u003ch3\u003e9.1 코드 예시\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003eCursor cursor = getContentResolver().query(\r\n  Uri.parse(\"content://kr.co.eqst.app022.memos\"),\r\n  new String[]{\"memo\"},\r\n  \"owner=?\",\r\n  new String[]{\"user\"},\r\n  null\r\n);\n\u003c/code\u003e\u003c/pre\u003e\n\u003chr\u003e\n\u003ch3\u003e9.2 SQL Injection 가능 구조\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003eSELECT memo\r\nFROM memos\r\nWHERE owner != 'admin'\r\nAND ( 1=1 ) OR ( 공격쿼리 )\r\ncontent query \\\r\n --uri content://kr.co.eqst.app022.memos \\\r\n --projection memo \\\r\n --where \"1=1) OR (owner='admin')\"\n\u003c/code\u003e\u003c/pre\u003e\n\u003chr\u003e\n\u003ch2\u003e10. Intent 취약점\u003c/h2\u003e\n\u003ch3\u003e10.1 Intent 구조\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003eIntent intent = new Intent();\r\nintent.putExtra(\"role\", \"99\");\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003e권한 검증 없이 Extra 사용 시 \u003cstrong\u003e권한 상승\u003c/strong\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch3\u003e10.2 Activity 강제 실행\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003eam start 패키지명/.Activity명 --es role admin\r\ndumpsys activity activities | grep Resumed\n\u003c/code\u003e\u003c/pre\u003e\n\u003chr\u003e\n\u003ch2\u003e11. 시스템 명령어 정리\u003c/h2\u003e\n\u003ch3\u003e11.1 adb / am / content\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003eam start 패키지명/.Activity명\r\nam startservice 패키지명/.Service명\r\nam broadcast -a ACTION -n 패키지명/.Receiver\n\u003c/code\u003e\u003c/pre\u003e\n\u003chr\u003e\n\u003ch3\u003e11.2 SQLite 접근\u003c/h3\u003e\n\u003cpre\u003e\u003ccode\u003ecd /data/data/패키지명/databases\r\nsqlite3 db파일명\r\nSELECT * FROM table;\r\nINSERT INTO table VALUES (...);\n\u003c/code\u003e\u003c/pre\u003e\n\u003chr\u003e\n\u003ch2\u003e12. 무결성 검증 \u0026#x26; 리소스 분석\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eclasses.dex\u003c/code\u003e 해시값 비교\u003c/li\u003e\n\u003cli\u003e루팅 탐지 / 변조 탐지 여부 확인\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003evalue-ko.xml\u003c/code\u003e 등 문자열 암호화 여부\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e\u0026#x3C;string name=\"error_msg\"\u003eelfkjqwelfkj\u0026#x3C;/string\u003e\r\nshowMessage(\"오류\", decrypt(error_msg));\n\u003c/code\u003e\u003c/pre\u003e\n\u003chr\u003e\n\u003ch2\u003e13. 취약점 실습 앱\u003c/h2\u003e\n\u003cp\u003e| 앱             | 설명                  |\r\n| -------------- | --------------------- |\r\n| AndroGoat      | 공식 취약점 실습      |\r\n| InsecureBankV2 | 은행 앱 취약점        |\r\n| DIVA           | 구버전 Android 취약점 |\u003c/p\u003e\n\u003chr\u003e\n\u003ch2\u003e14. 기타\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eTermux → Android 내부 Linux 환경\u003c/li\u003e\n\u003cli\u003eUnity 앱 → C# / DLL → dnSpy / ILSpy 분석\u003c/li\u003e\n\u003cli\u003elog4j 취약점 → \u003ccode\u003ecmd.jsp?cmd=ls -al\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch3\u003e정리 포인트\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003e입력값 → 서버/로컬 쿼리 흐름 추적\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e메모리·스토리지·컴포넌트 접근 제어\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eIntent / Content Provider 검증\u003c/strong\u003e\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e난독화·무결성 검증 유무 확인\u003c/strong\u003e\u003c/li\u003e\n\u003c/ul\u003e\n"])</script><script>self.__next_f.push([1,"5:[\"$\",\"article\",null,{\"className\":\"article-container\",\"children\":[[\"$\",\"div\",null,{\"className\":\"article-header\",\"children\":[[\"$\",\"span\",null,{\"className\":\"article-category\",\"children\":\"Android\"}],[\"$\",\"h1\",null,{\"className\":\"article-title\",\"children\":\"Android 보안 6일차\"}]]}],[\"$\",\"div\",null,{\"className\":\"article-content\",\"dangerouslySetInnerHTML\":{\"__html\":\"$f\"}}]]}]\nc:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title"])</script><script>self.__next_f.push([1,"\",\"2\",{\"children\":\"jinwk note\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"jinwk dev note\"}]]\n4:null\n"])</script><script>self.__next_f.push([1,""])</script></body></html>