3:I[5613,[],""]
6:I[1778,[],""]
7:I[8383,["250","static/chunks/250-069982e43c2ae463.js","185","static/chunks/app/layout-10c7e025b6149e17.js"],""]
8:I[5250,["250","static/chunks/250-069982e43c2ae463.js","931","static/chunks/app/page-e31ae51de7be232e.js"],""]
4:["category","Android","d"]
5:["slug","day11","d"]
0:["16MaIM6sfU5RrcCsiLE0O",[[["",{"children":["post",{"children":[["category","Android","d"],{"children":[["slug","day11","d"],{"children":["__PAGE__?{\"category\":\"Android\",\"slug\":\"day11\"}",{}]}]}]}]},"$undefined","$undefined",true],["",{"children":["post",{"children":[["category","Android","d"],{"children":[["slug","day11","d"],{"children":["__PAGE__",{},["$L1","$L2",null]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","post","children","$4","children","$5","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","post","children","$4","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","post","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}]]},[null,["$","html",null,{"lang":"ko","suppressHydrationWarning":true,"children":[["$","head",null,{"children":["$","script",null,{"dangerouslySetInnerHTML":{"__html":"\n              (function() {\n                try {\n                  const savedTheme = localStorage.getItem('theme');\n                  // Default to 'dark' if no save found, ignoring system preference for now to start dark\n                  const theme = savedTheme || 'dark';\n                  document.documentElement.setAttribute('data-theme', theme);\n                } catch (e) {}\n              })();\n            "}}]}],["$","body",null,{"children":["$","div",null,{"className":"app-container","children":[["$","$L7",null,{"categories":["AWS","Android","JAVA"]}],["$","main",null,{"className":"main-content","children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":["$","div",null,{"className":"flex flex-col items-center justify-center min-h-[60vh] text-center px-4","children":[["$","h2",null,{"className":"text-4xl font-bold mb-4","children":"404 - Not Found"}],["$","p",null,{"className":"text-gray-500 mb-8","children":"요청하신 페이지를 찾을 수 없습니다."}],["$","$L8",null,{"href":"/","className":"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition","children":"홈으로 돌아가기"}]]}],"notFoundStyles":[],"styles":null}]}]]}]}]]}],null]],[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/fff7d7d50ba66cff.css","precedence":"next","crossOrigin":""}]],"$L9"]]]]
a:T1a42,<h1>Frida Labs 실습 정리 (FridaLab)</h1>
<h2>실습 환경</h2>
<ul>
<li>대상 앱: <strong>FridaLab (Ross Marks)</strong></li>
<li>분석 방식: <strong>Frida 기반 동적 분석</strong></li>
<li>핵심 기술
<ul>
<li>Java.use</li>
<li>Java.choose</li>
<li>메소드 후킹</li>
<li>필드 값 조작</li>
<li>UI 제어</li>
</ul>
</li>
</ul>
<hr>
<h2>Lab 01 — 필드 값 조작</h2>
<h3>목표</h3>
<ul>
<li><code>chall01</code> 조건을 만족시켜 완료 처리</li>
</ul>
<h3>핵심 포인트</h3>
<ul>
<li><code>chall01</code>은 <strong>static 필드</strong></li>
<li>메소드 호출 없이 <strong>값만 바꾸면 해결</strong></li>
</ul>
<h3>Frida 스크립트</h3>
<pre><code>Java.perform(() => {
    var chall01 = Java.use("uk.rossmarks.fridalab.challenge_01");
    chall01.chall01.value = 1;
});
</code></pre>
<hr>
<h2>Lab 02 — 인스턴스 메소드 호출</h2>
<h3>목표</h3>
<ul>
<li><code>chall02()</code> 메소드 직접 호출</li>
</ul>
<h3>핵심 포인트</h3>
<ul>
<li>static 아님 → <code>Java.use</code> 불가</li>
<li><strong>이미 생성된 MainActivity 인스턴스 필요</strong></li>
<li><code>Java.choose()</code> 사용</li>
</ul>
<h3>Frida 스크립트</h3>
<pre><code>Java.perform(() => {
    Java.choose("uk.rossmarks.fridalab.MainActivity", {
        onMatch: function (ins) {
            ins.chall02();
        },
        onComplete: function () {}
    });
});
</code></pre>
<hr>
<h2>Lab 03 — 리턴값 강제 변경</h2>
<h3>목표</h3>
<ul>
<li><code>chall03()</code> 결과를 무조건 성공 처리</li>
</ul>
<h3>핵심 포인트</h3>
<ul>
<li>메소드 후킹</li>
<li>리턴값을 <code>true</code>로 하드코딩</li>
</ul>
<h3>Frida 스크립트</h3>
<pre><code>Java.perform(() => {
    var MainActivity = Java.use("uk.rossmarks.fridalab.MainActivity");
    MainActivity.chall03.implementation = function () {
        return true;
    };
});
</code></pre>
<hr>
<h2>Lab 04 — Activity 생성 타이밍 제어</h2>
<h3>목표</h3>
<ul>
<li><code>chall04("frida")</code>를 정확한 시점에 호출</li>
</ul>
<h3>핵심 포인트</h3>
<ul>
<li>Activity 생성 직후 실행 필요</li>
<li><code>onCreate()</code> 후킹 + <code>Java.choose()</code></li>
</ul>
<h3>Frida 스크립트</h3>
<pre><code>Java.perform(() => {
    var MainActivity = Java.use("uk.rossmarks.fridalab.MainActivity");

    MainActivity.onCreate.implementation = function (bundle) {
        this.onCreate(bundle);

        Java.choose("uk.rossmarks.fridalab.MainActivity", {
            onMatch: function (ins) {
                ins.chall04("frida");
            },
            onComplete: function () {}
        });
    };
});
</code></pre>
<hr>
<h2>Lab 05 — 인자 값 강제 변경</h2>
<h3>목표</h3>
<ul>
<li><code>chall05(String str)</code> 조건 만족</li>
</ul>
<h3>핵심 포인트</h3>
<ul>
<li>함수 인자 값을 <strong>실행 중 조작</strong></li>
<li>항상 <code>"frida"</code> 전달</li>
</ul>
<h3>Frida 스크립트</h3>
<pre><code>Java.perform(() => {
    var MainActivity = Java.use("uk.rossmarks.fridalab.MainActivity");

    MainActivity.chall05.implementation = function (str) {
        return this.chall05("frida");
    };
});
</code></pre>
<hr>
<h2>Lab 06 — 누적 값 조건 우회</h2>
<h3>목표</h3>
<ul>
<li><code>chall06</code> 값이 특정 범위를 넘기지 않도록 제어</li>
</ul>
<h3>핵심 포인트</h3>
<ul>
<li>내부에서 랜덤 값이 계속 누적됨</li>
<li>조건 초과 시 값 리셋됨</li>
<li><strong>add 함수 후킹 or 값 직접 조작</strong>으로 해결 가능</li>
</ul>
<pre><code>0 + 43 = 43 + 49 = 92 +14 = 106 +52 = 158 ...... 13 9002 9015  X -> 13
    public static void addChall06(int i) {
        chall06 += i;
        if (chall06 > 9000) {
            chall06 = i;
        }
    }
1초마다 랜덤한 1~50숫자 뽑아서 addChall06(숫자) 계속 실행해~
        challenge_06.addChall06(new Random().nextInt(50) + 1);
        new Timer().scheduleAtFixedRate(new TimerTask() { // from class: uk.rossmarks.fridalab.MainActivity.2
            @Override // java.util.TimerTask, java.lang.Runnable
            public void run() {
                int iNextInt = new Random().nextInt(50) + 1;
                challenge_06.addChall06(iNextInt);

            }
        }, 0L, 1000L);
</code></pre>
<hr>
<h2>Lab 07 — 내부 비밀값 추출</h2>
<h3>목표</h3>
<ul>
<li>내부에 저장된 비밀번호 확인 후 전달</li>
</ul>
<h3>핵심 포인트</h3>
<ul>
<li>static 필드에 값 저장됨</li>
<li>값을 읽어서 그대로 메소드에 전달</li>
</ul>
<h3>Frida 스크립트</h3>
<pre><code>Java.perform(() => {
    var chall07 = Java.use("uk.rossmarks.fridalab.challenge_07");
    var password = chall07.chall07.value;

    Java.choose("uk.rossmarks.fridalab.MainActivity", {
        onMatch: function (ins) {
            ins.chall07(password);
        },
        onComplete: function () {}
    });
});
</code></pre>
<hr>
<h2>Lab 08 — UI 동적 조작</h2>
<h3>목표</h3>
<ul>
<li>버튼 텍스트를 <code>"Confirm"</code>으로 변경</li>
</ul>
<h3>핵심 포인트</h3>
<ul>
<li>UI 조작은 <strong>Main Thread 필수</strong></li>
<li><code>onResume()</code> 후킹</li>
<li><code>findViewById()</code> → Button → <code>setText()</code></li>
</ul>
<h3>Frida 스크립트</h3>
<pre><code>Java.perform(function () {
    const Activity = Java.use("android.app.Activity");
    const Button = Java.use("android.widget.Button");
    const StringCls = Java.use("java.lang.String");

    Activity.onResume.implementation = function () {
        this.onResume();

        Java.scheduleOnMainThread(() => {
            const res = this.getResources();
            const pkg = this.getPackageName();
            const id = res.getIdentifier("check", "id", pkg);

            if (id !== 0) {
                const btn = Java.cast(this.findViewById(id), Button);
                btn.setText(StringCls.$new("Confirm"));
            }
        });
    };
});
</code></pre>
<hr>
<h2>종합 정리</h2>
<h3>Frida Labs 핵심 포인트</h3>
<ul>
<li><strong>Java.use</strong>
<ul>
<li>클래스 설계도 수정</li>
<li>메소드 구현 변경</li>
</ul>
</li>
<li><strong>Java.choose</strong>
<ul>
<li>이미 생성된 인스턴스 제어</li>
</ul>
</li>
<li><strong>동적 분석의 장점</strong>
<ul>
<li>무결성 검사 우회</li>
<li>조건 분기 강제 통과</li>
<li>UI / 로직 실시간 조작 가능</li>
</ul>
</li>
<li><strong>실무 활용</strong>
<ul>
<li>CTF 문제 풀이</li>
<li>모바일 앱 취약점 검증</li>
<li>보안 솔루션 우회 분석</li>
</ul>
</li>
</ul>
2:["$","article",null,{"className":"article-container","children":[["$","div",null,{"className":"article-header","children":[["$","span",null,{"className":"article-category","children":"Android"}],["$","h1",null,{"className":"article-title","children":"Android 보안 11일차"}]]}],["$","div",null,{"className":"article-content","dangerouslySetInnerHTML":{"__html":"$a"}}]]}]
9:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"jinwk note"}],["$","meta","3",{"name":"description","content":"jinwk dev note"}]]
1:null
