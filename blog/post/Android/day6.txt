3:I[5613,[],""]
6:I[1778,[],""]
7:I[8383,["250","static/chunks/250-63ba7a57e29c9f6e.js","185","static/chunks/app/layout-ada0ccfdc2732042.js"],""]
4:["category","Android","d"]
5:["slug","day6","d"]
0:["UQ-na9S7VveNwpUsd699O",[[["",{"children":["post",{"children":[["category","Android","d"],{"children":[["slug","day6","d"],{"children":["__PAGE__?{\"category\":\"Android\",\"slug\":\"day6\"}",{}]}]}]}]},"$undefined","$undefined",true],["",{"children":["post",{"children":[["category","Android","d"],{"children":[["slug","day6","d"],{"children":["__PAGE__",{},["$L1","$L2",null]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","post","children","$4","children","$5","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","post","children","$4","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}]]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","post","children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}]]},[null,["$","html",null,{"lang":"ko","suppressHydrationWarning":true,"children":[["$","head",null,{"children":["$","script",null,{"dangerouslySetInnerHTML":{"__html":"\n              (function() {\n                try {\n                  const savedTheme = localStorage.getItem('theme');\n                  // Default to 'dark' if no save found, ignoring system preference for now to start dark\n                  const theme = savedTheme || 'dark';\n                  document.documentElement.setAttribute('data-theme', theme);\n                } catch (e) {}\n              })();\n            "}}]}],["$","body",null,{"children":["$","div",null,{"className":"app-container","children":[["$","$L7",null,{"categories":["AWS","Android","JAVA"]}],["$","main",null,{"className":"main-content","children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"loading":"$undefined","loadingStyles":"$undefined","loadingScripts":"$undefined","hasLoading":false,"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L6",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":null}]}]]}]}]]}],null]],[[["$","link","0",{"rel":"stylesheet","href":"/blog/_next/static/css/fff7d7d50ba66cff.css","precedence":"next","crossOrigin":""}]],"$L8"]]]]
9:T1a03,<h2>1. 모바일 API &#x26; Web 통신 구조</h2>
<h3>1.1 HTTP API 통신 예시</h3>
<pre><code>GET /api/v2/ HTTP/1.1
{
  "cmd": "list",
  "data": "board",
  "keyword": "검색어"
}
</code></pre>
<ul>
<li>모바일 앱 ↔ 서버 간 API 통신</li>
<li>PC ↔ 모바일 개발자 도구를 통해 트래픽 분석 가능</li>
<li>Burp Suite, mitmproxy 등으로 <strong>MITM 분석</strong></li>
</ul>
<hr>
<h3>1.2 서버 쿼리 구조 예시</h3>
<pre><code>SELECT 컬럼들
FROM data입력값
WHERE title LIKE '%검색어%';
</code></pre>
<ul>
<li>입력값이 서버 쿼리에 직접 사용될 경우 <strong>SQL Injection 위험</strong></li>
</ul>
<hr>
<h2>2. TCP 통신 기반 취약점</h2>
<h3>2.1 TCP 입력값 조작</h3>
<pre><code>[ 3' AND 1=1 ] 검색
</code></pre>
<ul>
<li>HTTP가 아닌 <strong>Raw TCP 통신</strong>에서도 입력값 검증 미흡 시 취약</li>
<li>Binary / Hex 기반 데이터 (<code>2F8BC24</code>) 분석 필요</li>
</ul>
<hr>
<h2>3. Android 앱 내부 구조 공격 포인트</h2>
<h3>3.1 Activity / Memory 변조</h3>
<ul>
<li><strong>Activity 변조</strong>
<ul>
<li>숫자만 입력되도록 제한된 View → 강제 변조</li>
</ul>
</li>
<li><strong>Memory 변조</strong>
<ul>
<li>중요 데이터가 메모리에 상주하는 위치 분석</li>
</ul>
</li>
</ul>
<pre><code>String a = "test"; // 메모리에 장시간 남음 (위험)
char[] a = {0x00, 0x00, 0x00}; // 사용 후 초기화 가능 (권장)
</code></pre>
<ul>
<li>Java / Kotlin: <code>String</code> → GC 전까지 메모리 잔존</li>
<li>C 계열: <code>char[]</code> → 직접 초기화 가능</li>
</ul>
<hr>
<h3>3.2 메모리 덤프 관련</h3>
<pre><code>dumpsys heap 패키지명
frida-dump
</code></pre>
<ul>
<li>인증 토큰, ID/PW, 개인정보 노출 가능성 점검</li>
</ul>
<hr>
<h2>4. 인증 &#x26; 자동 로그인 구조</h2>
<h3>4.1 로그인 흐름</h3>
<pre><code>ID / PW → 로그인 성공 → 인증 토큰 발급
</code></pre>
<ul>
<li>인증 토큰이 <strong>SharedPreferences</strong>에 저장되는 경우 위험</li>
</ul>
<pre><code>/data/data/패키지명/shared_prefs/*.xml
</code></pre>
<hr>
<h3>4.2 SharedPreferences 저장 위치</h3>
<pre><code>/data/data/패키지명/
 ├─ shared_prefs/
 ├─ databases/
 ├─ files/
</code></pre>
<ul>
<li>Root 환경에서 평문 저장 시 <strong>심각한 취약점</strong></li>
</ul>
<hr>
<h2>5. 보안 솔루션 &#x26; 난독화</h2>
<h3>5.1 난독화 기법</h3>
<pre><code>a.e.f()
iiillll11l()
iilllll1()
</code></pre>
<ul>
<li>의미 없는 함수/변수명</li>
<li><strong>DexGuard / ProGuard</strong> 사용</li>
</ul>
<hr>
<h3>5.2 가상 키패드 / 백신</h3>
<ul>
<li>키로깅 방지 목적</li>
<li>메모리 직접 접근 시 우회 가능성 존재</li>
</ul>
<hr>
<h2>6. 리다이렉트 취약점</h2>
<h3>6.1 취약한 URL 예시</h3>
<pre><code>test.com/login?id=&#x26;pw=&#x26;url=test.com/member/
</code></pre>
<ul>
<li>외부 URL 허용 시 <strong>Open Redirect 취약점</strong></li>
<li>피싱, 인증 우회로 악용 가능</li>
</ul>
<hr>
<h2>7. APK &#x26; 리버스 엔지니어링 기초</h2>
<h3>7.1 APK 구조</h3>
<pre><code>abank.apk
 ├─ AndroidManifest.xml
 ├─ classes.dex
 ├─ lib/
 ├─ assets/
 ├─ resources/
</code></pre>
<ul>
<li>APK = 압축 파일</li>
<li><strong>디컴파일 필요</strong></li>
</ul>
<hr>
<h3>7.2 디컴파일 도구</h3>
<p>| 도구            | 설명             |
| --------------- | ---------------- |
| apktool         | 리소스 분석      |
| jadx / jadx-gui | Java 소스 복원   |
| APK Studio      | GUI 기반         |
| APK Easy Tool   | Windows Portable |</p>
<hr>
<h3>7.3 코드 변환 흐름</h3>
<pre><code>Java / Kotlin → class → smali → classes.dex
C / C++ → .so → JNI → Java
</code></pre>
<hr>
<h2>8. Android Component 구조</h2>
<p>| Component          | 설명        |
| ------------------ | ----------- |
| Activity           | 화면        |
| Service            | 백그라운드  |
| Content Provider   | 데이터 공유 |
| Broadcast Receiver | 이벤트 처리 |</p>
<hr>
<h2>9. Content Provider 취약점</h2>
<h3>9.1 코드 예시</h3>
<pre><code>Cursor cursor = getContentResolver().query(
  Uri.parse("content://kr.co.eqst.app022.memos"),
  new String[]{"memo"},
  "owner=?",
  new String[]{"user"},
  null
);
</code></pre>
<hr>
<h3>9.2 SQL Injection 가능 구조</h3>
<pre><code>SELECT memo
FROM memos
WHERE owner != 'admin'
AND ( 1=1 ) OR ( 공격쿼리 )
content query \
 --uri content://kr.co.eqst.app022.memos \
 --projection memo \
 --where "1=1) OR (owner='admin')"
</code></pre>
<hr>
<h2>10. Intent 취약점</h2>
<h3>10.1 Intent 구조</h3>
<pre><code>Intent intent = new Intent();
intent.putExtra("role", "99");
</code></pre>
<ul>
<li>권한 검증 없이 Extra 사용 시 <strong>권한 상승</strong></li>
</ul>
<hr>
<h3>10.2 Activity 강제 실행</h3>
<pre><code>am start 패키지명/.Activity명 --es role admin
dumpsys activity activities | grep Resumed
</code></pre>
<hr>
<h2>11. 시스템 명령어 정리</h2>
<h3>11.1 adb / am / content</h3>
<pre><code>am start 패키지명/.Activity명
am startservice 패키지명/.Service명
am broadcast -a ACTION -n 패키지명/.Receiver
</code></pre>
<hr>
<h3>11.2 SQLite 접근</h3>
<pre><code>cd /data/data/패키지명/databases
sqlite3 db파일명
SELECT * FROM table;
INSERT INTO table VALUES (...);
</code></pre>
<hr>
<h2>12. 무결성 검증 &#x26; 리소스 분석</h2>
<ul>
<li><code>classes.dex</code> 해시값 비교</li>
<li>루팅 탐지 / 변조 탐지 여부 확인</li>
<li><code>value-ko.xml</code> 등 문자열 암호화 여부</li>
</ul>
<pre><code>&#x3C;string name="error_msg">elfkjqwelfkj&#x3C;/string>
showMessage("오류", decrypt(error_msg));
</code></pre>
<hr>
<h2>13. 취약점 실습 앱</h2>
<p>| 앱             | 설명                  |
| -------------- | --------------------- |
| AndroGoat      | 공식 취약점 실습      |
| InsecureBankV2 | 은행 앱 취약점        |
| DIVA           | 구버전 Android 취약점 |</p>
<hr>
<h2>14. 기타</h2>
<ul>
<li>Termux → Android 내부 Linux 환경</li>
<li>Unity 앱 → C# / DLL → dnSpy / ILSpy 분석</li>
<li>log4j 취약점 → <code>cmd.jsp?cmd=ls -al</code></li>
</ul>
<hr>
<h3>정리 포인트</h3>
<ul>
<li><strong>입력값 → 서버/로컬 쿼리 흐름 추적</strong></li>
<li><strong>메모리·스토리지·컴포넌트 접근 제어</strong></li>
<li><strong>Intent / Content Provider 검증</strong></li>
<li><strong>난독화·무결성 검증 유무 확인</strong></li>
</ul>
2:["$","article",null,{"className":"article-container","children":[["$","div",null,{"className":"article-header","children":[["$","span",null,{"className":"article-category","children":"Android"}],["$","h1",null,{"className":"article-title","children":"Android 보안 6일차"}]]}],["$","div",null,{"className":"article-content","dangerouslySetInnerHTML":{"__html":"$9"}}]]}]
8:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"jinwk note"}],["$","meta","3",{"name":"description","content":"jinwk dev note"}]]
1:null
